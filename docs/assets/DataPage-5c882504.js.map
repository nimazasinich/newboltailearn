{"version":3,"file":"DataPage-5c882504.js","sources":["../../node_modules/lucide-react/dist/esm/icons/upload.js","../../src/components/DataPage.tsx"],"sourcesContent":["/**\n * lucide-react v0.284.0 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.js.map\n","import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/Card';\nimport { Button } from './ui/Button';\nimport { API } from '../services/api';\nimport { Database, Download, Upload, FileText, AlertTriangle } from 'lucide-react';\n\nexport default function DataPage() {\n  const [datasets, setDatasets] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadDatasets = async () => {\n      try {\n        setLoading(true);\n        const data = await API.getDatasets();\n        setDatasets(data || []);\n      } catch (err) {\n        console.error('Failed to load datasets:', err);\n        setError('خطا در بارگذاری مجموعه داده‌ها');\n        // Fallback data\n        setDatasets([\n          {\n            id: '1',\n            name: 'قوانین مدنی ایران',\n            size: '245 MB',\n            samples: 15000,\n            status: 'آماده',\n            lastUpdated: '۱۴۰۲/۱۲/۰۵'\n          },\n          {\n            id: '2', \n            name: 'قوانین جزایی',\n            size: '180 MB',\n            samples: 12500,\n            status: 'در حال پردازش',\n            lastUpdated: '۱۴۰۲/۱۲/۰۳'\n          },\n          {\n            id: '3',\n            name: 'آیین دادرسی مدنی',\n            size: '95 MB', \n            samples: 8200,\n            status: 'آماده',\n            lastUpdated: '۱۴۰۲/۱۱/۲۸'\n          }\n        ]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadDatasets();\n  }, []);\n\n  const handleDownload = async (datasetId: string) => {\n    try {\n      await API.downloadDataset(datasetId);\n      alert('دانلود شروع شد');\n    } catch (err) {\n      console.error('Download failed:', err);\n      alert('خطا در دانلود');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\" dir=\"rtl\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\" dir=\"rtl\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">مدیریت داده‌ها</h1>\n          <p className=\"text-gray-600 dark:text-gray-400 mt-1\">\n            مدیریت مجموعه داده‌های آموزشی و اسناد حقوقی\n          </p>\n        </div>\n        <Button className=\"bg-blue-600 hover:bg-blue-700\">\n          <Upload className=\"h-4 w-4 ml-2\" />\n          آپلود داده جدید\n        </Button>\n      </div>\n\n      {error && (\n        <div className=\"p-4 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg\">\n          <div className=\"flex items-center gap-2\">\n            <AlertTriangle className=\"h-5 w-5 text-yellow-600\" />\n            <p className=\"text-yellow-800 dark:text-yellow-200\">{error}</p>\n          </div>\n          <p className=\"text-sm text-yellow-600 dark:text-yellow-400 mt-1\">\n            در حال نمایش داده‌های نمونه\n          </p>\n        </div>\n      )}\n\n      <div className=\"grid gap-4\">\n        {datasets.map((dataset) => (\n          <Card key={dataset.id}>\n            <CardHeader>\n              <div className=\"flex justify-between items-start\">\n                <div>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Database className=\"h-5 w-5\" />\n                    {dataset.name}\n                  </CardTitle>\n                  <div className=\"flex gap-4 text-sm text-gray-600 dark:text-gray-400 mt-2\">\n                    <span>حجم: {dataset.size}</span>\n                    <span>تعداد نمونه: {dataset.samples?.toLocaleString('fa-IR')}</span>\n                    <span>آخرین بروزرسانی: {dataset.lastUpdated}</span>\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    onClick={() => handleDownload(dataset.id)}\n                  >\n                    <Download className=\"h-4 w-4\" />\n                  </Button>\n                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                    dataset.status === 'آماده' \n                      ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'\n                      : 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200'\n                  }`}>\n                    {dataset.status}\n                  </span>\n                </div>\n              </div>\n            </CardHeader>\n          </Card>\n        ))}\n      </div>\n\n      {datasets.length === 0 && (\n        <Card>\n          <CardContent className=\"text-center py-12\">\n            <FileText className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\n              هیچ مجموعه داده‌ای یافت نشد\n            </h3>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n              برای شروع، اولین مجموعه داده خود را آپلود کنید\n            </p>\n            <Button className=\"bg-blue-600 hover:bg-blue-700\">\n              <Upload className=\"h-4 w-4 ml-2\" />\n              آپلود داده جدید\n            </Button>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}"],"names":["Upload","createLucideIcon","DataPage","datasets","setDatasets","useState","loading","setLoading","error","setError","useEffect","data","API","err","handleDownload","datasetId","jsx","jsxs","Button","AlertTriangle","dataset","Card","CardHeader","CardTitle","Database","_a","Download","CardContent","FileText"],"mappings":"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","x_google_ignoreList":[0]}