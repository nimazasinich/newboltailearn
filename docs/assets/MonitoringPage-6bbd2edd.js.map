{"version":3,"file":"MonitoringPage-6bbd2edd.js","sources":["../../node_modules/lucide-react/dist/esm/icons/wifi.js","../../src/components/MonitoringPage.tsx"],"sourcesContent":["/**\n * lucide-react v0.284.0 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Wifi = createLucideIcon(\"Wifi\", [\n  [\"path\", { d: \"M5 13a10 10 0 0 1 14 0\", key: \"6v8j51\" }],\n  [\"path\", { d: \"M8.5 16.5a5 5 0 0 1 7 0\", key: \"sej527\" }],\n  [\"path\", { d: \"M2 8.82a15 15 0 0 1 20 0\", key: \"dnpr2z\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"20\", y2: \"20\", key: \"of4bc4\" }]\n]);\n\nexport { Wifi as default };\n//# sourceMappingURL=wifi.js.map\n","import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/Card';\nimport { Progress } from './ui/Progress';\nimport { API } from '../services/api';\nimport { websocketService } from '../services/websocket';\nimport { Monitor, Cpu, HardDrive, Wifi, AlertTriangle, Activity } from 'lucide-react';\n\nexport default function MonitoringPage() {\n  const [metrics, setMetrics] = useState({\n    cpu: 0,\n    memory: { used: 0, total: 0, percentage: 0 },\n    uptime: 0,\n    timestamp: new Date().toISOString()\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadMetrics = async () => {\n      try {\n        setLoading(true);\n        const data = await API.getSystemMetrics();\n        setMetrics(data);\n      } catch (err) {\n        console.error('Failed to load system metrics:', err);\n        setError('خطا در بارگذاری معیارهای سیستم');\n        // Fallback data\n        setMetrics({\n          cpu: 45,\n          memory: { used: 8192, total: 16384, percentage: 50 },\n          uptime: 86400,\n          timestamp: new Date().toISOString()\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadMetrics();\n  }, []);\n\n  // Real-time updates via WebSocket\n  useEffect(() => {\n    websocketService.connect();\n\n    const handleSystemMetrics = (data: any) => {\n      setMetrics(prev => ({\n        ...prev,\n        ...data,\n        timestamp: new Date().toISOString()\n      }));\n    };\n\n    websocketService.on('system_metrics', handleSystemMetrics);\n\n    return () => {\n      websocketService.off('system_metrics', handleSystemMetrics);\n    };\n  }, []);\n\n  const formatUptime = (seconds: number): string => {\n    const hours = Math.floor(seconds / 3600);\n    const days = Math.floor(hours / 24);\n    const remainingHours = hours % 24;\n    \n    if (days > 0) return `${days} روز و ${remainingHours} ساعت`;\n    return `${hours} ساعت`;\n  };\n\n  const formatMemory = (mb: number): string => {\n    if (mb >= 1024) {\n      return `${(mb / 1024).toFixed(1)} GB`;\n    }\n    return `${mb} MB`;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\" dir=\"rtl\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\" dir=\"rtl\">\n      <div>\n        <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">نظارت سیستم</h1>\n        <p className=\"text-gray-600 dark:text-gray-400 mt-1\">\n          نظارت بر وضعیت سخت‌افزار و عملکرد سیستم\n        </p>\n        <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-2\">\n          آخرین بروزرسانی: {new Date(metrics.timestamp).toLocaleTimeString('fa-IR')}\n        </p>\n      </div>\n\n      {error && (\n        <div className=\"p-4 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg\">\n          <div className=\"flex items-center gap-2\">\n            <AlertTriangle className=\"h-5 w-5 text-yellow-600\" />\n            <p className=\"text-yellow-800 dark:text-yellow-200\">{error}</p>\n          </div>\n          <p className=\"text-sm text-yellow-600 dark:text-yellow-400 mt-1\">\n            در حال نمایش داده‌های نمونه\n          </p>\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">وضعیت سیستم</CardTitle>\n            <Activity className=\"h-4 w-4 text-green-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">فعال</div>\n            <p className=\"text-xs text-muted-foreground\">\n              آپتایم: {formatUptime(metrics.uptime)}\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">CPU</CardTitle>\n            <Cpu className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{metrics.cpu}%</div>\n            <Progress value={metrics.cpu} className=\"mt-2\" />\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">حافظه</CardTitle>\n            <HardDrive className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{metrics.memory.percentage}%</div>\n            <p className=\"text-xs text-muted-foreground\">\n              {formatMemory(metrics.memory.used)} / {formatMemory(metrics.memory.total)}\n            </p>\n            <Progress value={metrics.memory.percentage} className=\"mt-2\" />\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">شبکه</CardTitle>\n            <Wifi className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">متصل</div>\n            <p className=\"text-xs text-muted-foreground\">\n              عملکرد مطلوب\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Monitor className=\"h-5 w-5\" />\n              جزئیات سیستم\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <span className=\"font-medium\">سیستم عامل:</span>\n                <p className=\"text-muted-foreground\">Linux Ubuntu 22.04</p>\n              </div>\n              <div>\n                <span className=\"font-medium\">معماری:</span>\n                <p className=\"text-muted-foreground\">x86_64</p>\n              </div>\n              <div>\n                <span className=\"font-medium\">Node.js:</span>\n                <p className=\"text-muted-foreground\">v18.17.0</p>\n              </div>\n              <div>\n                <span className=\"font-medium\">Python:</span>\n                <p className=\"text-muted-foreground\">3.10.6</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>نمودار عملکرد</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-center py-12 text-gray-500 dark:text-gray-400\">\n              نمودار عملکرد در حال توسعه است\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}"],"names":["Wifi","createLucideIcon","MonitoringPage","metrics","setMetrics","useState","loading","setLoading","error","setError","useEffect","data","API","err","websocketService","handleSystemMetrics","prev","formatUptime","seconds","hours","days","remainingHours","formatMemory","mb","jsx","jsxs","AlertTriangle","Card","CardHeader","CardTitle","Activity","CardContent","Cpu","Progress","HardDrive","Monitor"],"mappings":"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","x_google_ignoreList":[0]}