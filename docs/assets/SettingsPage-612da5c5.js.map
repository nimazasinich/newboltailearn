{"version":3,"file":"SettingsPage-612da5c5.js","sources":["../../node_modules/lucide-react/dist/esm/icons/bell.js","../../node_modules/lucide-react/dist/esm/icons/moon.js","../../node_modules/lucide-react/dist/esm/icons/save.js","../../node_modules/lucide-react/dist/esm/icons/sun.js","../../src/hooks/useTheme.ts","../../src/components/SettingsPage.tsx"],"sourcesContent":["/**\n * lucide-react v0.284.0 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bell = createLucideIcon(\"Bell\", [\n  [\"path\", { d: \"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9\", key: \"1qo2s2\" }],\n  [\"path\", { d: \"M10.3 21a1.94 1.94 0 0 0 3.4 0\", key: \"qgo35s\" }]\n]);\n\nexport { Bell as default };\n//# sourceMappingURL=bell.js.map\n","/**\n * lucide-react v0.284.0 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Moon = createLucideIcon(\"Moon\", [\n  [\"path\", { d: \"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\", key: \"a7tn18\" }]\n]);\n\nexport { Moon as default };\n//# sourceMappingURL=moon.js.map\n","/**\n * lucide-react v0.284.0 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\n    \"path\",\n    {\n      d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\",\n      key: \"1owoqh\"\n    }\n  ],\n  [\"polyline\", { points: \"17 21 17 13 7 13 7 21\", key: \"1md35c\" }],\n  [\"polyline\", { points: \"7 3 7 8 15 8\", key: \"8nz8an\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * lucide-react v0.284.0 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sun = createLucideIcon(\"Sun\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"4\", key: \"4exip2\" }],\n  [\"path\", { d: \"M12 2v2\", key: \"tus03m\" }],\n  [\"path\", { d: \"M12 20v2\", key: \"1lh1kg\" }],\n  [\"path\", { d: \"m4.93 4.93 1.41 1.41\", key: \"149t6j\" }],\n  [\"path\", { d: \"m17.66 17.66 1.41 1.41\", key: \"ptbguv\" }],\n  [\"path\", { d: \"M2 12h2\", key: \"1t8f8n\" }],\n  [\"path\", { d: \"M20 12h2\", key: \"1q8mjw\" }],\n  [\"path\", { d: \"m6.34 17.66-1.41 1.41\", key: \"1m8zz5\" }],\n  [\"path\", { d: \"m19.07 4.93-1.41 1.41\", key: \"1shlcs\" }]\n]);\n\nexport { Sun as default };\n//# sourceMappingURL=sun.js.map\n","import { useEffect, useState } from 'react'\n\nexport type Theme = 'light' | 'dark'\n\nexport function useTheme() {\n  const [theme, setTheme] = useState<Theme>(() => {\n    const stored = localStorage.getItem('theme')\n    if (stored === 'light' || stored === 'dark') {\n      return stored\n    }\n    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'\n  })\n\n  useEffect(() => {\n    const root = document.documentElement\n    if (theme === 'dark') {\n      root.classList.add('dark')\n    } else {\n      root.classList.remove('dark')\n    }\n    localStorage.setItem('theme', theme)\n  }, [theme])\n\n  const toggleTheme = () => {\n    setTheme(prev => prev === 'light' ? 'dark' : 'light')\n  }\n\n  return { theme, setTheme, toggleTheme }\n}","import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/Card';\nimport { Button } from './ui/Button';\nimport { API } from '../services/api';\nimport { useTheme } from '../hooks/useTheme';\nimport { Settings, Save, Moon, Sun, Globe, Bell, AlertTriangle } from 'lucide-react';\n\nexport default function SettingsPage() {\n  const { theme, setTheme } = useTheme();\n  const [settings, setSettings] = useState({\n    language: 'fa',\n    notifications: true,\n    autoRefresh: true,\n    refreshInterval: 30\n  });\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadSettings = async () => {\n      try {\n        setLoading(true);\n        const data = await API.getSettings();\n        setSettings(data && typeof data === 'object' ? { ...settings, ...data } : settings);\n      } catch (err) {\n        console.error('Failed to load settings:', err);\n        setError('خطا در بارگذاری تنظیمات');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadSettings();\n  }, []);\n\n  const handleSave = async () => {\n    try {\n      setSaving(true);\n      await API.updateSettings(settings);\n      alert('تنظیمات با موفقیت ذخیره شد');\n    } catch (err) {\n      console.error('Failed to save settings:', err);\n      alert('خطا در ذخیره تنظیمات');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\" dir=\"rtl\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\" dir=\"rtl\">\n      <div>\n        <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">تنظیمات</h1>\n        <p className=\"text-gray-600 dark:text-gray-400 mt-1\">\n          پیکربندی سیستم و تنظیمات کاربری\n        </p>\n      </div>\n\n      {error && (\n        <div className=\"p-4 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg\">\n          <div className=\"flex items-center gap-2\">\n            <AlertTriangle className=\"h-5 w-5 text-yellow-600\" />\n            <p className=\"text-yellow-800 dark:text-yellow-200\">{error}</p>\n          </div>\n        </div>\n      )}\n\n      <div className=\"grid gap-6\">\n        {/* Appearance */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Moon className=\"h-5 w-5\" />\n              ظاهر\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                تم\n              </label>\n              <div className=\"flex gap-4\">\n                <label className=\"flex items-center gap-2\">\n                  <input\n                    type=\"radio\"\n                    name=\"theme\"\n                    value=\"light\"\n                    checked={theme === 'light'}\n                    onChange={() => setTheme('light')}\n                    className=\"text-blue-600\"\n                  />\n                  <Sun className=\"h-4 w-4\" />\n                  روشن\n                </label>\n                <label className=\"flex items-center gap-2\">\n                  <input\n                    type=\"radio\"\n                    name=\"theme\"\n                    value=\"dark\"\n                    checked={theme === 'dark'}\n                    onChange={() => setTheme('dark')}\n                    className=\"text-blue-600\"\n                  />\n                  <Moon className=\"h-4 w-4\" />\n                  تیره\n                </label>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                زبان\n              </label>\n              <select\n                value={settings.language}\n                onChange={(e) => setSettings(prev => ({ ...prev, language: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n              >\n                <option value=\"fa\">فارسی</option>\n                <option value=\"en\">English</option>\n              </select>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Notifications */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Bell className=\"h-5 w-5\" />\n              اعلان‌ها\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                  فعال‌سازی اعلان‌ها\n                </label>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  دریافت اعلان‌های سیستم و آموزش\n                </p>\n              </div>\n              <input\n                type=\"checkbox\"\n                checked={settings.notifications}\n                onChange={(e) => setSettings(prev => ({ ...prev, notifications: e.target.checked }))}\n                className=\"text-blue-600\"\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* System */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Settings className=\"h-5 w-5\" />\n              سیستم\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                  بروزرسانی خودکار\n                </label>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  بروزرسانی خودکار داده‌ها\n                </p>\n              </div>\n              <input\n                type=\"checkbox\"\n                checked={settings.autoRefresh}\n                onChange={(e) => setSettings(prev => ({ ...prev, autoRefresh: e.target.checked }))}\n                className=\"text-blue-600\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                فاصله بروزرسانی (ثانیه)\n              </label>\n              <input\n                type=\"number\"\n                value={settings.refreshInterval}\n                onChange={(e) => setSettings(prev => ({ ...prev, refreshInterval: parseInt(e.target.value) }))}\n                min=\"5\"\n                max=\"300\"\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Save Button */}\n        <div className=\"flex justify-end\">\n          <Button\n            onClick={handleSave}\n            disabled={saving}\n            className=\"bg-blue-600 hover:bg-blue-700\"\n          >\n            <Save className=\"h-4 w-4 ml-2\" />\n            {saving ? 'در حال ذخیره...' : 'ذخیره تنظیمات'}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["Bell","createLucideIcon","Moon","Save","Sun","useTheme","theme","setTheme","useState","stored","useEffect","root","prev","SettingsPage","settings","setSettings","loading","setLoading","saving","setSaving","error","setError","data","API","err","handleSave","jsx","jsxs","AlertTriangle","Card","CardHeader","CardTitle","CardContent","e","Settings","Button"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}