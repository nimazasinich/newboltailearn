{"version":3,"file":"DataPage-B32rlGTs.js","sources":["../../node_modules/lucide-react/dist/esm/icons/upload.js","../../src/components/DataPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 3v12\", key: \"1x0j5s\" }],\n  [\"path\", { d: \"m17 8-5-5-5 5\", key: \"7q97r8\" }],\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }]\n];\nconst Upload = createLucideIcon(\"upload\", __iconNode);\n\nexport { __iconNode, Upload as default };\n//# sourceMappingURL=upload.js.map\n","import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/Card';\nimport { Button } from './ui/Button';\nimport { API } from '../services/api';\nimport { Database, Download, Upload, FileText, AlertTriangle } from 'lucide-react';\n\nexport default function DataPage() {\n  const [datasets, setDatasets] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadDatasets = async () => {\n      try {\n        setLoading(true);\n        const data = await API.getDatasets();\n        setDatasets(data || []);\n      } catch (err) {\n        console.error('Failed to load datasets:', err);\n        setError('خطا در بارگذاری مجموعه داده‌ها');\n        // Fallback data\n        setDatasets([\n          {\n            id: '1',\n            name: 'قوانین مدنی ایران',\n            size: '245 MB',\n            samples: 15000,\n            status: 'آماده',\n            lastUpdated: '۱۴۰۲/۱۲/۰۵'\n          },\n          {\n            id: '2', \n            name: 'قوانین جزایی',\n            size: '180 MB',\n            samples: 12500,\n            status: 'در حال پردازش',\n            lastUpdated: '۱۴۰۲/۱۲/۰۳'\n          },\n          {\n            id: '3',\n            name: 'آیین دادرسی مدنی',\n            size: '95 MB', \n            samples: 8200,\n            status: 'آماده',\n            lastUpdated: '۱۴۰۲/۱۱/۲۸'\n          }\n        ]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadDatasets();\n  }, []);\n\n  const handleDownload = async (datasetId: string) => {\n    try {\n      await API.downloadDataset(datasetId);\n      alert('دانلود شروع شد');\n    } catch (err) {\n      console.error('Download failed:', err);\n      alert('خطا در دانلود');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\" dir=\"rtl\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\" dir=\"rtl\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">مدیریت داده‌ها</h1>\n          <p className=\"text-gray-600 dark:text-gray-400 mt-1\">\n            مدیریت مجموعه داده‌های آموزشی و اسناد حقوقی\n          </p>\n        </div>\n        <Button className=\"bg-blue-600 hover:bg-blue-700\">\n          <Upload className=\"h-4 w-4 ml-2\" />\n          آپلود داده جدید\n        </Button>\n      </div>\n\n      {error && (\n        <div className=\"p-4 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg\">\n          <div className=\"flex items-center gap-2\">\n            <AlertTriangle className=\"h-5 w-5 text-yellow-600\" />\n            <p className=\"text-yellow-800 dark:text-yellow-200\">{error}</p>\n          </div>\n          <p className=\"text-sm text-yellow-600 dark:text-yellow-400 mt-1\">\n            در حال نمایش داده‌های نمونه\n          </p>\n        </div>\n      )}\n\n      <div className=\"grid gap-4\">\n        {datasets.map((dataset) => (\n          <Card key={dataset.id}>\n            <CardHeader>\n              <div className=\"flex justify-between items-start\">\n                <div>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Database className=\"h-5 w-5\" />\n                    {dataset.name}\n                  </CardTitle>\n                  <div className=\"flex gap-4 text-sm text-gray-600 dark:text-gray-400 mt-2\">\n                    <span>حجم: {dataset.size}</span>\n                    <span>تعداد نمونه: {dataset.samples?.toLocaleString('fa-IR')}</span>\n                    <span>آخرین بروزرسانی: {dataset.lastUpdated}</span>\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    onClick={() => handleDownload(dataset.id)}\n                  >\n                    <Download className=\"h-4 w-4\" />\n                  </Button>\n                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                    dataset.status === 'آماده' \n                      ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'\n                      : 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200'\n                  }`}>\n                    {dataset.status}\n                  </span>\n                </div>\n              </div>\n            </CardHeader>\n          </Card>\n        ))}\n      </div>\n\n      {datasets.length === 0 && (\n        <Card>\n          <CardContent className=\"text-center py-12\">\n            <FileText className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\n              هیچ مجموعه داده‌ای یافت نشد\n            </h3>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n              برای شروع، اولین مجموعه داده خود را آپلود کنید\n            </p>\n            <Button className=\"bg-blue-600 hover:bg-blue-700\">\n              <Upload className=\"h-4 w-4 ml-2\" />\n              آپلود داده جدید\n            </Button>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}"],"names":["__iconNode","Upload","createLucideIcon","DataPage","datasets","setDatasets","useState","loading","setLoading","error","setError","useEffect","data","API","err","handleDownload","datasetId","jsx","jsxs","Button","AlertTriangle","dataset","Card","CardHeader","CardTitle","Database","_a","Download","CardContent","FileText"],"mappings":"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","x_google_ignoreList":[0]}