{"version":3,"file":"MonitoringPage-ZWM35VBY.js","sources":["../../node_modules/lucide-react/dist/esm/icons/wifi.js","../../src/components/MonitoringPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 20h.01\", key: \"zekei9\" }],\n  [\"path\", { d: \"M2 8.82a15 15 0 0 1 20 0\", key: \"dnpr2z\" }],\n  [\"path\", { d: \"M5 12.859a10 10 0 0 1 14 0\", key: \"1x1e6c\" }],\n  [\"path\", { d: \"M8.5 16.429a5 5 0 0 1 7 0\", key: \"1bycff\" }]\n];\nconst Wifi = createLucideIcon(\"wifi\", __iconNode);\n\nexport { __iconNode, Wifi as default };\n//# sourceMappingURL=wifi.js.map\n","import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/Card';\nimport { Progress } from './ui/Progress';\nimport { API } from '../services/api';\nimport { websocketService } from '../services/websocket';\nimport { Monitor, Cpu, HardDrive, Wifi, AlertTriangle, Activity } from 'lucide-react';\n\nexport default function MonitoringPage() {\n  const [metrics, setMetrics] = useState({\n    cpu: 0,\n    memory: { used: 0, total: 0, percentage: 0 },\n    uptime: 0,\n    timestamp: new Date().toISOString()\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadMetrics = async () => {\n      try {\n        setLoading(true);\n        const data = await API.getSystemMetrics();\n        setMetrics(data);\n      } catch (err) {\n        console.error('Failed to load system metrics:', err);\n        setError('خطا در بارگذاری معیارهای سیستم');\n        // Fallback data\n        setMetrics({\n          cpu: 45,\n          memory: { used: 8192, total: 16384, percentage: 50 },\n          uptime: 86400,\n          timestamp: new Date().toISOString()\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadMetrics();\n  }, []);\n\n  // Real-time updates via WebSocket\n  useEffect(() => {\n    websocketService.connect();\n\n    const handleSystemMetrics = (data: any) => {\n      setMetrics(prev => ({\n        ...prev,\n        ...data,\n        timestamp: new Date().toISOString()\n      }));\n    };\n\n    websocketService.on('system_metrics', handleSystemMetrics);\n\n    return () => {\n      websocketService.off('system_metrics', handleSystemMetrics);\n    };\n  }, []);\n\n  const formatUptime = (seconds: number): string => {\n    const hours = Math.floor(seconds / 3600);\n    const days = Math.floor(hours / 24);\n    const remainingHours = hours % 24;\n    \n    if (days > 0) return `${days} روز و ${remainingHours} ساعت`;\n    return `${hours} ساعت`;\n  };\n\n  const formatMemory = (mb: number): string => {\n    if (mb >= 1024) {\n      return `${(mb / 1024).toFixed(1)} GB`;\n    }\n    return `${mb} MB`;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\" dir=\"rtl\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\" dir=\"rtl\">\n      <div>\n        <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">نظارت سیستم</h1>\n        <p className=\"text-gray-600 dark:text-gray-400 mt-1\">\n          نظارت بر وضعیت سخت‌افزار و عملکرد سیستم\n        </p>\n        <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-2\">\n          آخرین بروزرسانی: {new Date(metrics.timestamp).toLocaleTimeString('fa-IR')}\n        </p>\n      </div>\n\n      {error && (\n        <div className=\"p-4 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg\">\n          <div className=\"flex items-center gap-2\">\n            <AlertTriangle className=\"h-5 w-5 text-yellow-600\" />\n            <p className=\"text-yellow-800 dark:text-yellow-200\">{error}</p>\n          </div>\n          <p className=\"text-sm text-yellow-600 dark:text-yellow-400 mt-1\">\n            در حال نمایش داده‌های نمونه\n          </p>\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">وضعیت سیستم</CardTitle>\n            <Activity className=\"h-4 w-4 text-green-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">فعال</div>\n            <p className=\"text-xs text-muted-foreground\">\n              آپتایم: {formatUptime(metrics.uptime)}\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">CPU</CardTitle>\n            <Cpu className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{metrics.cpu}%</div>\n            <Progress value={metrics.cpu} className=\"mt-2\" />\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">حافظه</CardTitle>\n            <HardDrive className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{metrics.memory.percentage}%</div>\n            <p className=\"text-xs text-muted-foreground\">\n              {formatMemory(metrics.memory.used)} / {formatMemory(metrics.memory.total)}\n            </p>\n            <Progress value={metrics.memory.percentage} className=\"mt-2\" />\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">شبکه</CardTitle>\n            <Wifi className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">متصل</div>\n            <p className=\"text-xs text-muted-foreground\">\n              عملکرد مطلوب\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Monitor className=\"h-5 w-5\" />\n              جزئیات سیستم\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <span className=\"font-medium\">سیستم عامل:</span>\n                <p className=\"text-muted-foreground\">Linux Ubuntu 22.04</p>\n              </div>\n              <div>\n                <span className=\"font-medium\">معماری:</span>\n                <p className=\"text-muted-foreground\">x86_64</p>\n              </div>\n              <div>\n                <span className=\"font-medium\">Node.js:</span>\n                <p className=\"text-muted-foreground\">v18.17.0</p>\n              </div>\n              <div>\n                <span className=\"font-medium\">Python:</span>\n                <p className=\"text-muted-foreground\">3.10.6</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>نمودار عملکرد</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-center py-12 text-gray-500 dark:text-gray-400\">\n              نمودار عملکرد در حال توسعه است\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}"],"names":["__iconNode","Wifi","createLucideIcon","MonitoringPage","metrics","setMetrics","useState","loading","setLoading","error","setError","useEffect","data","API","err","websocketService","handleSystemMetrics","prev","formatUptime","seconds","hours","days","remainingHours","formatMemory","mb","jsx","jsxs","AlertTriangle","Card","CardHeader","CardTitle","Activity","CardContent","Cpu","Progress","HardDrive","Monitor"],"mappings":"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","x_google_ignoreList":[0]}