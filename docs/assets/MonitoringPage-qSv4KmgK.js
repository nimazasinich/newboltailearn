import{c as N,r as d,j as e,A as w,M as b,a as v}from"./index-B6t0c70J.js";import{C as a,a as l,b as c,c as i}from"./Card-CDS4LrTn.js";import{P as u}from"./Progress-DreWG6J4.js";import{w as o}from"./websocket-CkjA9eLt.js";import{T as M}from"./triangle-alert-DWQRDuSj.js";import{C as k,H as S}from"./hard-drive-DduT_8Ca.js";import"./wsClient-DgJ3GFrt.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],I=N("wifi",C);function L(){const[r,m]=d.useState({cpu:0,memory:{used:0,total:0,percentage:0},uptime:0,timestamp:new Date().toISOString()}),[f,x]=d.useState(!0),[h,p]=d.useState(null);d.useEffect(()=>{(async()=>{try{x(!0);const t=await v.getSystemMetrics();m(t)}catch(t){console.error("Failed to load system metrics:",t),p("خطا در بارگذاری معیارهای سیستم"),m({cpu:45,memory:{used:8192,total:16384,percentage:50},uptime:86400,timestamp:new Date().toISOString()})}finally{x(!1)}})()},[]),d.useEffect(()=>{o.connect();const s=t=>{m(n=>({...n,...t,timestamp:new Date().toISOString()}))};return o.on("system_metrics",s),()=>{o.off("system_metrics",s)}},[]);const g=s=>{const t=Math.floor(s/3600),n=Math.floor(t/24),y=t%24;return n>0?`${n} روز و ${y} ساعت`:`${t} ساعت`},j=s=>s>=1024?`${(s/1024).toFixed(1)} GB`:`${s} MB`;return f?e.jsx("div",{className:"flex items-center justify-center h-64",dir:"rtl",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",dir:"rtl",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"نظارت سیستم"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"نظارت بر وضعیت سخت‌افزار و عملکرد سیستم"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["آخرین بروزرسانی: ",new Date(r.timestamp).toLocaleTimeString("fa-IR")]})]}),h&&e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5 text-yellow-600"}),e.jsx("p",{className:"text-yellow-800 dark:text-yellow-200",children:h})]}),e.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400 mt-1",children:"در حال نمایش داده‌های نمونه"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(a,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"وضعیت سیستم"}),e.jsx(w,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"فعال"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["آپتایم: ",g(r.uptime)]})]})]}),e.jsxs(a,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"CPU"}),e.jsx(k,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[r.cpu,"%"]}),e.jsx(u,{value:r.cpu,className:"mt-2"})]})]}),e.jsxs(a,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"حافظه"}),e.jsx(S,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[r.memory.percentage,"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[j(r.memory.used)," / ",j(r.memory.total)]}),e.jsx(u,{value:r.memory.percentage,className:"mt-2"})]})]}),e.jsxs(a,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"شبکه"}),e.jsx(I,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"متصل"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"عملکرد مطلوب"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"جزئیات سیستم"]})}),e.jsx(i,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"سیستم عامل:"}),e.jsx("p",{className:"text-muted-foreground",children:"Linux Ubuntu 22.04"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"معماری:"}),e.jsx("p",{className:"text-muted-foreground",children:"x86_64"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Node.js:"}),e.jsx("p",{className:"text-muted-foreground",children:"v18.17.0"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Python:"}),e.jsx("p",{className:"text-muted-foreground",children:"3.10.6"})]})]})})]}),e.jsxs(a,{children:[e.jsx(l,{children:e.jsx(c,{children:"نمودار عملکرد"})}),e.jsx(i,{children:e.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"نمودار عملکرد در حال توسعه است"})})]})]})]})}export{L as default};
//# sourceMappingURL=MonitoringPage-qSv4KmgK.js.map
